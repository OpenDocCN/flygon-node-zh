["```js\n    <h1>New To-Do</h1>\n    <form id=\"new-todo-form\" action=\"/todos\" method=\"POST\">\n\n      <p>\n        <label for=\"what\">What</label>\n        <textarea name=\"what\" id=\"what\" required></textarea>\n      </p>\n\n      <p>\n\n        <label class=\"radio\" for=\"alarm-false\">\n          <input type=\"radio\" name=\"alarm\" value=\"false\" id=\"alarm-false\" checked=\"checked\" /> No Alarm\n        </label>\n\n        <label class=\"radio\" for=\"alarm-true\">\n          <input type=\"radio\" name=\"alarm\" value=\"true\" id=\"alarm-true\" /> Use Alarm\n        </label>\n\n      </p>\n\n      <div id=\"alarm-date-time\" style=\"display:none\">\n        <label class=\"date\" for=\"alarm-date\">\n          <input type=\"text\" name=\"alarm-date\" id=\"alarm-date\" /> Date (YYYY/MM/DD)\n        </label>\n        <label class=\"time\" for=\"alarm-time\">\n          <input type=\"text\" name=\"alarm-time\" id=\"alarm-time\" /> Time (hh:mm)\n        </label>\n      </div>\n\n      <input type=\"submit\" value=\"Create\" />\n    </form>\n    ```", "```js\n    #alarm-date-time {\n      position: relative;\n      margin: 15px 0;\n      padding: 39px 19px 14px;\n      border: 1px solid #DDD;\n      -webkit-border-radius: 4px;\n      -moz-border-radius: 4px;\n      border-radius: 4px;\n      width: auto;\n    }\n\n    #alarm-date-time::after {\n      content: \"Alarm Date and time\";\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      padding: 3px 7px;\n      font-size: 12px;\n      font-weight: bold;\n      background-color: whiteSmoke;\n      border: 1px solid #DDD;\n      color: #9DA0A4;\n      -webkit-border-radius: 4px 0 4px 0;\n      -moz-border-radius: 4px 0 4px 0;\n      border-radius: 4px 0 4px 0;\n    }\n    ```", "```js\n    <html>\n      <head>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n        <title id=\"title\"></title>\n        <link href=\"/css/bootstrap.min.css\" rel=\"stylesheet\" >\n     <link href=\"/css/todo.css\" rel=\"stylesheet\" >\n      </head>\n      <body>\n\n        <section role=\"main\" class=\"container\">\n\n          <div id=\"messages\"></div>\n\n          <div id=\"main-body\"></div>\n\n        </section>\n\n        <script src=\"img/jquery.min.js\"></script> \n        <script src=\"img/jquery-ui-1.8.23.custom.min.js\"></script> \n        <script src=\"img/bootstrap.min.js\"></script>\n        <script src=\"img/todos.js\"></script>\n      </body>\n    </html>\n    ```", "```js\n    $(function() {\n      $('#todo-list').sortable({\n        update: function() {\n          var order = [];\n          $('.todo').each(function(idx, row) {\n            order.push($(row).find('.pos').text());\n          });\n\n          $.post('/todos/sort', {order: order.join(',')}, function() {\n            $('.todo').each(function(idx, row) {\n              $(row).find('.pos').text(idx + 1);\n            });\n          });\n\n        }\n      });\n\n     function hideOrShowDateTime() {\n     var ringAlarm = $('input[name=alarm]:checked',\n     '#new-todo-form').val() === 'true';\n\n     if (ringAlarm) {\n     $('#alarm-date-time').slideDown();\n     } else {\n     $('#alarm-date-time').slideUp();\n     }\n     }\n\n     $('#new-todo-form input[name=alarm]').change(hideOrShowDateTime);\n     hideOrShowDateTime();\n\n    });\n    ```", "```js\n    this.post('/', [loggedIn, function() {\n\n      var req  = this.req,\n          res  = this.res,\n          todo = this.req.body\n      ;\n\n      if (! todo.what) {\n        res.writeHead(200, {'Content-Type': 'text/html'});\n        return res.end(layout(templates['new'], 'New To-Do',\n          {error: 'Please fill in the To-Do description'}));\n      }\n\n     todo.alarm = todo.alarm === 'true';\n     todo.alarm_date = Date.parse(todo['alarm-date'] + ' ' + todo['alarm-time']);\n     delete todo['alarm-date'];\n     delete todo['alarm-time'];\n\n      todo.created_at = Date.now();\n\n      insert(req.session.user.email, todo, function(err) {\n\n        if (err) {\n          res.writeHead(500);\n          return res.end(err.stack);\n        }\n\n        res.writeHead(303, {Location: '/todos'});\n        res.end();\n      });\n\n    }]);\n    ```", "```js\n{ what: 'Deliver books to library',\n  alarm: true,\n  alarm_date: 1351608900000,\n  created_at: 1350915191244 }\n```", "```js\n    it('should not present the alarm date form fields when no alarm is selected',\n      login(function(browser, done) {\n         browser.visit('http://localhost:3000/todos/new', function(err) {\n           if (err) throw err;\n\n           browser.choose('No Alarm', function(err) {\n             if (err) throw err;\n\n             assert.equal(browser.query('#alarm-date-time').style.display, 'none');\n             done();\n           });\n         });\n      })\n    );\n    ```", "```js\n    it('should present the alarm date form fields when alarm', \n      login(function(browser, done) {\n        browser.visit('http://localhost:3000/todos/new', function(err) {\n          if (err) throw err;\n\n          var container = browser.query('#alarm-date-time');\n\n          browser.choose('No Alarm', function(err) {\n            if (err) throw err;\n\n            assert.equal(container.style.display, 'none');\n\n            browser.choose('Use Alarm', function(err) {\n              if (err) throw err;\n\n              assert.equal(container.style.display, '');\n\n              browser.choose('No Alarm', function(err) {\n                if (err) throw err;\n\n                assert.equal(container.style.display, 'none');\n\n                done();\n              });\n            });\n          });\n        });\n      })\n    );\n    ```", "```js\n  <label for=\"scope\">\n    Scope\n    <select name=\"scope\" id=\"scope\">\n      <option value=\"\" selected=\"selected\">Please select</option>\n      <option value=\"work\">Work</option>\n      <option value=\"personal\">Personal</option>\n      <option value=\"family\">Family</option>\n    </select>\n  </label>\n```", "```js\nit('should present the scope select box',\n  login(function(browser, done) {\n    browser.visit('http://localhost:3000/todos/new', function(err) {\n      if (err) throw err;\n\n      var select = browser.queryAll('form select[name=scope]');\n      assert.equal(select.length, 1);\n\n      var options = browser.queryAll('form select[name=scope] option');\n      assert.equal(options.length, 4);\n\n      options = options.map(function(option) {\n        return [option.value, option.textContent];\n      });\n\n      var expectedOptions = [\n        [null, 'Please select'],\n        ['work', 'Work'],\n        ['personal', 'Personal'],\n        ['family', 'Family']\n      ];\n\n      assert.deepEqual(options, expectedOptions);\n\n      done();\n\n    });\n  })\n);\n```", "```js\n<h1>Your To-Dos</h1>\n\n<a class=\"btn\" href=\"/todos/new\">New To-Do</a>\n\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th>#</th>\n      <th>What</th>\n <th>Scope</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody id=\"todo-list\">\n    <tr class=\"todo\">\n      <td class=\"pos\"></td>\n      <td class=\"what\"></td>\n <td class=\"scope\"></td>\n      <td class=\"remove\">\n        <form action=\"/todos/delete\" method=\"POST\">\n          <input type=\"hidden\" name=\"pos\" value=\"\" />\n          <input type=\"submit\" name=\"Delete\" value=\"Delete\" />\n        </form>\n      </td>\n    </tr>\n  </tbody>\n</table>\n```", "```js\nthis.get('/', [loggedIn, function() {\n\n  var res = this.res;\n\n  db.get(this.req.session.user.email, function(err, todos) {\n\n    if (err && err.status_code !== 404) {\n      res.writeHead(500);\n      return res.end(err.stack);\n    }\n\n    if (! todos) todos = {todos: []};\n    todos = todos.todos;\n\n    todos.forEach(function(todo, idx) {\n      if (todo) todo.pos = idx + 1;\n    });\n\n    var map = Plates.Map();\n    map.className('todo').to('todo');\n    map.className('pos').to('pos');\n    map.className('what').to('what');\n map.className('scope').to('scope');\n    map.where('name').is('pos').use('pos').as('value');\n\n    var main = Plates.bind(templates.index, {todo: todos}, map);\n    res.writeHead(200, {'Content-Type': 'text/html'});\n    res.end(layout(main, 'To-Dos'));\n\n  });\n```", "```js\nit('should allow to create a todo', login(function(browser, done) {\n  browser.visit('http://localhost:3000/todos/new', function(err) {\n    if (err) throw err;\n\n    browser\n      .fill('What', 'Laundry')\n .select('scope', 'Personal')\n      .pressButton('Create', function(err) {\n        if (err) throw err;\n\n        assert.equal(browser.location.pathname, '/todos',\n          'should be redirected to /todos after creation');\n\n        var list = browser.queryAll('#todo-list tr.todo');\n        assert.equal(list.length, 1, 'To-do list length should be 1');\n        var todo = list[0];\n        assert.equal(browser.text('td.pos', todo), 1);\n        assert.equal(browser.text('td.what', todo), 'Laundry');\n assert.equal(browser.text('td.scope', todo), 'personal');\n\n        done();\n\n      });\n  });\n}));\n```"]